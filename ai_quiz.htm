<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI çŸ¥è­˜å°é”äºº - äº’å‹•æ¸¬é©—</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Noto Sans TC', sans-serif; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); min-height: 100vh; }
        .glass-card { background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(10px); border-radius: 1.5rem; box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2); }
        .option-btn { transition: all 0.2s ease; border: 2px solid #f3f4f6; }
        .option-btn:hover:not(:disabled) { border-color: #6366f1; background-color: #f5f3ff; }
        .option-selected { background-color: #4f46e5 !important; color: white !important; border-color: #4f46e5 !important; }
        select { appearance: none; background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%234f46e5'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E"); background-repeat: no-repeat; background-position: right 0.75rem center; background-size: 1rem; }
        /* è‡ªå®šç¾©æ»¾å‹•æ¢æ¨£å¼ */
        .custom-scrollbar::-webkit-scrollbar { width: 8px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: #f1f1f1; border-radius: 4px; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: #c7c7c7; border-radius: 4px; }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover { background: #a8a8a8; }
    </style>
</head>
<body class="flex items-center justify-center p-4">

    <div id="app" class="w-full max-w-3xl"> <!-- åŠ å¯¬å®¹å™¨ä»¥é©æ‡‰å¤§å­—é«” -->
        <!-- é–‹å§‹ç•«é¢ -->
        <div id="start-screen" class="glass-card p-8 text-center">
            <div class="mb-6 inline-block p-4 bg-indigo-100 rounded-full">
                <span class="text-5xl">ğŸ¤–</span>
            </div>
            <h1 class="text-3xl font-bold text-indigo-700 mb-6">AI çŸ¥è­˜å°é”äºº</h1>
            <p class="text-gray-600 mb-2 font-bold text-lg">æœ¬æ¬¡æŒ‘æˆ°å…± 7 é¡Œ</p>
            <p class="text-gray-500 mb-8 text-sm">è«‹é¸æ“‡ç­åˆ¥èˆ‡å§“åé–‹å§‹æŒ‘æˆ°</p>
            
            <div class="space-y-4 mb-8 text-left max-w-xs mx-auto">
                <div>
                    <label class="block text-sm font-bold text-gray-700 ml-1 mb-1">ç­åˆ¥</label>
                    <select id="class-select" onchange="quizApp.updateStudentList()" class="w-full p-3 border-2 border-indigo-100 rounded-xl outline-none focus:border-indigo-500 transition text-gray-700 bg-white">
                        <option value="">-- è«‹é¸æ“‡ --</option>
                    </select>
                </div>
                
                <div>
                    <label class="block text-sm font-bold text-gray-700 ml-1 mb-1">å§“å (å­¸è™Ÿ+å§“å)</label>
                    <select id="student-select" disabled onchange="quizApp.validateStart()" class="w-full p-3 border-2 border-indigo-100 rounded-xl outline-none bg-gray-50 focus:border-indigo-500 transition text-gray-700">
                        <option value="">è«‹å…ˆé¸æ“‡ç­åˆ¥</option>
                    </select>
                </div>
            </div>
            
            <button id="start-btn" onclick="quizApp.start()" disabled class="w-full sm:w-auto bg-gray-400 text-white font-bold py-3 px-12 rounded-full text-xl shadow-lg transition duration-300 cursor-not-allowed">é€²å…¥æŒ‘æˆ°</button>
        </div>

        <!-- æ¸¬é©—ç•«é¢ -->
        <div id="quiz-screen" class="glass-card p-8 hidden">
            <div class="flex justify-between items-center mb-6">
                <div>
                    <p id="user-info-display" class="text-xs text-indigo-500 font-bold mb-1 uppercase tracking-wider"></p>
                    <span class="text-lg font-medium text-indigo-600 px-4 py-1 bg-indigo-50 rounded-full border border-indigo-100">
                        ç¬¬ <span id="current-index">1</span> / 7 é¡Œ
                    </span>
                    <!-- é›£åº¦æ¨™ç±¤å·²ç§»é™¤ -->
                </div>
                <div class="w-32 bg-gray-200 rounded-full h-3">
                    <div id="progress-bar" class="bg-indigo-600 h-3 rounded-full transition-all duration-500" style="width: 14%"></div>
                </div>
            </div>
            
            <div id="question-container" class="min-h-[280px]">
                <h2 id="question-text" class="text-2xl font-bold text-gray-800 mb-8 leading-relaxed"></h2>
                <div id="options-list" class="grid gap-4"></div>
            </div>
            
            <div class="mt-8 flex justify-end">
                <button id="next-btn" onclick="quizApp.next()" disabled class="bg-gray-400 text-white px-10 py-3 rounded-xl font-bold cursor-not-allowed transition-all transform active:scale-95 shadow-md text-lg">ä¸‹ä¸€é¡Œ</button>
            </div>
        </div>

        <!-- çµæœç•«é¢ -->
        <div id="result-screen" class="glass-card p-8 hidden text-center">
            <h1 class="text-3xl font-bold text-indigo-700 mb-2">æ¸¬é©—å ±å‘Šæ›¸</h1>
            <p id="report-user-name" class="text-xl font-bold text-gray-700 mb-6"></p>
            
            <!-- åˆ†æ•¸å¤§åœ“åœˆ -->
            <div class="inline-block p-6 rounded-full bg-indigo-50 mb-6 border-4 border-white shadow-inner">
                <span id="score-text" class="text-6xl font-black text-indigo-600">0</span>
                <span class="text-xl text-indigo-400 ml-1">/ 100</span>
            </div>
            
            <!-- ä¸Šå‚³ç‹€æ…‹ -->
            <div id="save-status" class="flex items-center justify-center gap-2 text-sm font-medium text-amber-600 mb-6 bg-amber-50 py-2 px-4 rounded-lg mx-auto max-w-sm">
                <svg class="animate-spin h-4 w-4 text-amber-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg>
                æ­£åœ¨ä¸Šå‚³çµæœè‡³é›²ç«¯...
            </div>

            <!-- æˆç¸¾è©³ç´°å…§å®¹å®¹å™¨ -->
            <div id="report-container" class="max-h-[60vh] overflow-y-auto pr-2 custom-scrollbar text-left border-t border-gray-100 pt-4">
                <!-- 1. ç›´è§€ç¸½è¡¨ (é€™è£¡æœƒå‹•æ…‹ç”Ÿæˆ) -->
                <div id="summary-table-container" class="mb-6"></div>

                <!-- 2. è©³ç´°é¡Œç›®å›é¡§ -->
                <div id="report-details" class="space-y-6"></div>
            </div>
            
            <div class="mt-6 border-t border-gray-100 pt-6">
                <button onclick="location.reload()" class="bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-12 rounded-xl shadow-lg transition transform hover:-translate-y-1 text-lg">è¿”å›é¦–é </button>
            </div>
        </div>
    </div>

    <script>
        const scriptURL = "https://script.google.com/macros/s/AKfycbzCpke8TAq2qp6WaOHIIsSKPkEVXSustE30xZwyDW5jvYyFj1TuTTai0585RXqBFkFk/exec"; 

        const studentRawData = `1A 1 é™³ç†¹é›‹,1A 2 é™³æ„è¡¡,1A 3 é™³å½¥å›,1A 4 é™³æ¥šçš“,1A 5 é™³å½¥ç¾²,1A 6 ä¾¯æ—è²,1A 7 è¨±çš“ç³,1A 8 é»ƒç…œè»’,1A 9 é—œæ—¨è‡,1A 10 åŠ‰å“ç€…,1A 11 åŠ‰ä»²å®‡,1A 12 ç¾…å“ç†™,1A 13 æèŠ¯æ‚¦,1A 14 å‘‚ä¿Šéœ–,1A 15 å‘‚ä»²è»’,1A 16 å³è«¾å…’,1A 17 å½­æ¢“æ‚¦,1A 18 æ–½éˆæº,1A 19 å­«å­è±ª,1A 20 æ›¾ä»¥ä»,1A 21 æ›¹æ­£,1A 22 ç‹å¤©å®‡,1A 23 ç‹æŸè«¾,1A 24 èƒ¡æ‚¦ç¿¹,1B 1 é™³æ›‰ç‘©,1B 2 é™³æ¢“éŸœ,1B 3 é™³æ°¸æ˜‡,1B 4 é™³æ‚…å¿ƒ,1B 5 å¼µå³»çƒ½,1B 6 è”¡å®é‘«,1B 7 æœ±çå–†,1B 8 ä½•å…æ’,1B 9 éŸ“æ¬£ç©,1B 10 å¶å®‡æ’,1B 11 æ±Ÿæ³³ç³,1B 12 é—œæ˜è²,1B 13 é„ºé›ªæ™´,1B 14 åŠ‰èŠŠæ±,1B 15 ç¾…å¾©å¸Œ,1B 16 æä¿Šéœ†,1B 17 æé§,1B 18 æ¢å‡±æ·‡,1B 19 å·«æ’é€¸,1B 20 æŸ¯èŠ·æ™´,1B 21 è˜‡æ™ºæ³“,1B 22 æ›¾é‹­å½¬,1B 23 å°¹æ¢“è¨€,1B 24 èƒ¡æ¢“æ¦£,1B 25 ä¸˜æ–‡åš,1B 26 æœ±é‘ ç©,1C 1 æ­é™½å­æœ—,1C 2 å‘¨æŸæ©‹,1C 3 é„­æµšæ±,1C 4 å¼µæ´›é ¤,1C 5 å¼µå…è¬™,1C 6 æœ±å–„é‹,1C 7 æ´ªæ°¸çƒ,1C 8 è‘‰æ„·æ™´,1C 9 æ±Ÿæ¾¤æ¥·,1C 10 æ±Ÿæ³³å©·,1C 11 éƒ­æ›‰éœ,1C 12 æ—èŠŠç¥,1C 13 åŠ‰å­å„€,1C 14 æå“è«¾,1C 15 ææŸç¿±,1C 16 æ¢å¿ƒå·§,1C 17 æ¢é€¸ç†¹,1C 18 å±é€¸è¾°,1C 19 æ½˜æ‰¿éˆ,1C 20 è•­é›¨å½¤,1C 21 è­šæ„·ç‘¤,1C 22 è­šä¸ç«£,1C 23 ç”°æ™æ½¼,1C 24 ç‹æ¨‚æ¾„,1C 25 é»ƒå­è»’,1C 26 ç‹æ¢“ç„¶,1C 27 è‘‰èŠ·æ™´,1D 1 é™³æŒ¯è»’,1D 2 é™³æ™,1D 3 é™³æŸç†¹,1D 4 é™³å®ä¿¡,1D 5 å¼µçç«¥,1D 6 å‘¨ç¾²å’Œ,1D 7 å¾æœ—ç,1D 8 æ–¹ä¿Šç†¹,1D 9 æ–¹æ¢“å–¬,1D 10 æ±Ÿå¾½,1D 11 éƒ­åˆå˜‰,1D 12 åŠ‰æ·³æµ ,1D 13 æ¢é–å ¯,1D 14 æç¥‰è«¾,1D 15 æ—è©©ç©,1D 16 å»–å¿ƒç‘œ,1D 17 ç›§æ›‰æ€¡,1D 18 é¡å­å–„,1D 19 é„§å…ˆå–»,1D 20 é„§èŠ·çº,1D 21 è¬æ³“æ³°,1D 22 ç«¥è¡å˜‰,1D 23 é»ƒç…¦æ˜¡,1D 24 å³å˜‰é‹­,1D 25 æ¥Šå–„é›¯,1D 26 å§šèŠŠèª,1E 1 é™³å¸Œéœ–,1E 2 é™³æ™ç‘œ,1E 3 é™³å›æ¥­,1E 4 é™³æº°ç³,1E 5 é™³æ˜Ÿå®‡,1E 6 é„­å­æ¦†,1E 7 é¦®æ™ç«¥,1E 8 ä½•é‰¦éœ†,1E 9 è¨±æ­£ç¿¹,1E 10 éƒ­æŸå¸Œ,1E 11 éƒ­æŸå–¬,1E 12 æ—å˜‰æ…§,1E 13 ç¾…æ•èŠ«,1E 14 æ¢å¤©è±ª,1E 15 é€£å°‰ğ§§½,1E 16 ç›§å¿ƒæ€¡,1E 17 å‹ä»¥æ›ˆ,1E 18 è«å½¥åš,1E 19 æ½˜æŸçš“,1E 20 é„§é›¨æ™´,1E 21 è”¡ç«£è»’,1E 22 é»ƒæ™‰è¬™,1E 23 é»ƒè©©æ·‡,1E 24 èƒ¡å‡±è—,1E 25 é¡å˜‰å¸Œ,1E 26 æ¥Šæ¨‚è»’,2A 1 é™³ä¿¡å¸Œ,2A 2 é™³å®¥éŠ˜,2A 3 é„’å˜‰æŸ”,2A 4 é„­é›…ä¹‹,2A 5 å¼µäºˆå¯§,2A 6 é¦®æœ—è¯,2A 7 ä½•æ—»è”š,2A 8 ä½•æ¢“å«£,2A 9 è¨±è‹¥æ¥ ,2A 10 æ—æ·ç„¶,2A 11 æ—é™½æ›¦,2A 12 æå“æ–,2A 13 æ¢æ˜Š,2A 14 æ¢å‡±åªƒ,2A 15 å»–å‡±æ¼©,2A 16 å‹å›å©·,2A 17 é¦¬é‰¦åš,2A 18 ä¼çç„¶,2A 19 è•­ç¥å‘ˆ,2A 20 æ›¾æ©é™¶,2A 21 ç‹ç¥è¾°,2A 22 é»ƒç³å˜‰,2A 23 é»ƒå½¥ç†¹,2A 24 æ¥Šæ—»å½§,2A 25 è‘‰èŠ·è—´,2B 1 é™³é›‹ç¦®,2B 2 é™³æŸéœ–,2B 3 é™³ç‘‹æ¥ ,2B 4 é™³ç©æ¾„,2B 5 é„­çš“æ–‡,2B 6 å¼µå³»åƒ‘,2B 7 éŒ¢çŸè¬™,2B 8 é¾æŒ¯è€€,2B 9 ä½•ç±½é½Š,2B 10 ä½•èŠ·å¥·,2B 11 æ—å…å…’,2B 12 åŠ‰æ˜Ÿå®‡,2B 13 ææ™é›’,2B 14 æèŠ¯æ½,2B 15 æ¢é›…å…’,2B 16 æ¢å¿ƒæ€¡,2B 17 ç›§é–æ–¹,2B 18 éº¥é›…æ·‡,2B 19 å³å®¶è³¢,2B 20 å­«é§éœ–,2B 21 æ›¾å¤¢æ­¡,2B 22 é»ƒæ¢“æœ—,2B 23 è¬æ¨‚æ‡¿,2B 24 åš´æ•ç‘œ,2B 25 ä½™èŠŠæ½¼,2C 1 é™³å®¶åš,2C 2 é™³ä½°åƒ‘,2C 3 é™³æ¥šä¼Š,2C 4 é„­æ‡¿ç¿,2C 5 å¼µèŠ·åƒ‘,2C 6 å¼µæ—¥æ›¦,2C 7 è”¡å­è¨€,2C 8 æœ±æ™‰è³¢,2C 9 æœ±è© çŠ,2C 10 é¾ç¦®è³¢,2C 11 ä¾¯ä½©å…’,2C 12 ç®¡è«¾è³¢,2C 13 éƒ­æ˜Šæ´‹,2C 14 é»å­è¬™,2C 15 åŠ‰æ˜Šå‡,2C 16 åŠ‰æµšé‹,2C 17 æè«¾é ¤,2C 18 æ¢ç‹é›¯,2C 19 æ—æ–°çŠ,2C 20 åŠ‰æ¢“æ½¼,2C 21 å³ç¶½ç€…,2C 22 è­šç´«å¯§,2C 23 ç‹ç¾¨å¦¤,2C 24 é»ƒåº­è¬™,2C 25 é¾æµ©éˆ±,2D 1 å€æ™‰æ¨‘,2D 2 é™³ç€å¸Œ,2D 3 é™³å‡±æ·³,2D 4 é™³é§è³¢,2D 5 å¼µéˆç³,2D 6 é¦®å‡±ç³,2D 7 æ—é›…é›¯,2D 8 æ—è”£æ²‚,2D 9 åŠ‰ç¥æ¾„,2D 10 ç¾…æµ©è¨€,2D 11 ææºµå–¬,2D 12 æ¢æ¾¤ä»,2D 13 æé–é ¤,2D 14 æ—çƒ±çƒ½,2D 15 å‘‚ç¶½ç‘¤,2D 16 æ¯›ç¾¿å·½,2D 17 å³æ†²å³°,2D 18 çŸ³èŠ®éœ–,2D 19 æ›¾ç¦®è³¢,2D 20 ç‹å„’æ‚¦,2D 21 èƒ¡éŒ¦å¤©,2D 22 ç‹æšŸç³,2D 23 èƒ¡æ¢“ç­ ,2D 24 ä¼å½¥æ½®,2D 25 ä½™æ€ç©,2E 1 æ­å¸Œå½¤,2E 2 é™³æ¢“æ˜Š,2E 3 é™³èŠ·ç³,2E 4 å¼µå¸å®‡,2E 5 å¼µç…’å‚‘,2E 6 å¼µæ©åƒ‘,2E 7 è¶™æµ©è»’,2E 8 æˆ´å˜‰ç‘©,2E 9 åš´å´‡ç,2E 10 è‘‰æ–‡æ™,2E 11 é»çˆ¾æ¾„,2E 12 é»çˆ¾è¬™,2E 13 æ¢æ ¢ç¿,2E 14 æä¾å¨œ,2E 15 é€£çã©,2E 16 å·«å€¬é‹’,2E 17 æˆ´æ™ç„¶,2E 18 è­šç«£è»’,2E 19 é„§åº·ç‘¤,2E 20 é»ƒåƒç¿,2E 21 é»ƒå¯¶å„€,2E 22 é»ƒæ¢“è¬™,2E 23 å³å¦¤è«³,2E 24 è‘‰ç¾ç³,2E 25 æœ±æ™¨æ›¦,3A 1 é™³å®¶æ·³,3A 2 å¼µè–¾æ™¨,3A 3 å¼µæ™¯è»’,3A 4 ä½•æ²›éˆ,3A 5 ä½•éŸ»ç€…,3A 6 é—œç¾¨éŒ¤,3A 7 æ—å–„ç‘©,3A 8 ææœ—æ£‹,3A 9 æåº­æ¬£,3A 10 æ¢å¯æ¦†,3A 11 æ—é›…å©·,3A 12 å³æ™ºç›,3A 13 å³æ„·æ©,3A 14 å³è‘‰æ†,3A 15 æ­èˆªç‘‹,3A 16 è˜‡é€¸æœ—,3A 17 æ–½å–„æ–‡,3A 18 å”å©‰å®œ,3A 19 æ›¾å“è¬™,3A 20 é»ƒé Œè¬™,3A 21 ç‹ç…¦éœ–,3A 22 é»ƒè´Šæ®·,3A 23 é»ƒä¸€é™½,3A 24 èƒ¡è“ç¿¹,3A 25 ä½™æ²›å‡,3B 1 é™³æµ å©·,3B 2 é™³çæ–Œ,3B 3 å¼µæ¨¾,3B 4 è”¡æµ·æ¾„,3B 5 å‘¨æœ›èˆ’,3B 6 é„§æ¸²ç©,3B 7 ç†Šæ¢“å–¬,3B 8 é—œè© ç³,3B 9 é»ç†™æ¡,3B 10 æ—æŸå®‡,3B 11 åŠ‰ç€°,3B 12 åŠ‰æŸå¸Œ,3B 13 æ¢èªè»’,3B 14 é¦¬ç†™é›¯,3B 15 å³æ€è¨€,3B 16 å½­æ˜ é›ª,3B 17 æ½˜æœ—æ¥·,3B 18 é»ƒè¦“é¢»,3B 19 é»ƒå°æ´¹,3B 20 é»ƒå¤©ä¿¡,3B 21 ç‹æ¢“è¬™,3B 22 ç‹æ¢“ç©,3B 23 èƒ¡å‡±æ¾„,3B 24 é‚±å½¥æ¥Ÿ,3B 25 è‘‰æ ¢å»·,3C 1 é™³é€¸æœ—,3C 2 å¼µå…åµ,3C 3 èŠé§æº¢,3C 4 é¦®å“è³¢,3C 5 éƒ­ç¿æ·,3C 6 ç°¡èŠ·æ¡,3C 7 æ—å–„æ™´,3C 8 æ—ç´«å ¯,3C 9 åŠ‰ç¿è»’,3C 10 æç¥‰èª¼,3C 11 é€£ä¿¡è¨€,3C 12 å»–æœ›æ­£,3C 13 ç¾…å•Ÿæ™‰,3C 14 è•­æ¢“æ·‡,3C 15 å­«è‹¡æ¾„,3C 16 æ–½éœåµ,3C 17 é„§å…ç„¶,3C 18 æ›¾å¤©ä½‘,3C 19 ç‹ç…¦éœ†,3C 20 é»ƒå®¶ç†™,3C 21 èƒ¡å–„ä¹‹,3C 22 æ¥Šæ¨‚æ˜•,3C 23 è‘‰æ„·æ™´,3C 24 è‘‰è˜Šç‘¤,3C 25 åº¾å‡±èˆ’,3D 1 é™³æ™‰ç‡Š,3D 2 é™³æ€éœ–,3D 3 é¾ä¿Šè³¢,3D 4 æˆ´æ²›éŠ˜,3D 5 ä½•éŸ»å¦,3D 6 é»å…çš“,3D 7 é»æ˜•æ½¼,3D 8 æ—å¿ƒè³¢,3D 9 æç´«ç›ˆ,3D 10 æ¢æ¾¤æ ©,3D 11 æ¢è©©è«¾,3D 12 æ¢åœ“åœ“,3D 13 é€£å®¶æ™´,3D 14 æ—æ™´åµ,3D 15 é™¸ç©ç³,3D 16 é¾å…æ¾„,3D 17 é¡æ²›æ€¡,3D 18 æ½˜æ™¯åº·,3D 19 æ½˜ç¿æ™,3D 20 æ–½æ¾¤ä»,3D 21 æˆ´ç„¯è¨€,3D 22 æœåœ‹ç¶­,3D 23 é»ƒå­ä¿Š,3D 24 æ¥Šé–æ³“,3D 25 æ¥Šå¿ƒè•Š,3E 1 æŸ¥å¥•æ£®,3E 2 é™³è© èŠ¯,3E 3 é™³æ®·éœ†,3E 4 é™³é›¨æ™´,3E 5 å‘¨ç©ç†™,3E 6 é„­èŠ·ç€…,3E 7 å¼µé–”ç¨‹,3E 8 éœæŸå½¥,3E 9 è‘‰äº¦ç¿”,3E 10 é»æ˜•æ¾„,3E 11 åˆ©å“ç¾½,3E 12 æèŠŠæ¾„,3E 13 æ¢å“è¬™,3E 14 æä¿Šè³¢,3E 15 æå‡±æ¾„,3E 16 ç¾…å¾·è”š,3E 17 å³æ³³å§¸,3E 18 æ½˜æ‰¿è€€,3E 19 è­šæ²›æ—,3E 20 é»ƒé Œç„¶,3E 21 èƒ¡æ—»æ…§,3E 22 èƒ¡å˜‰æ¿ ,3E 23 æ¥Šé–,3E 24 é„­é›…äºˆ,4A 1 é™³å“ç‘©,4A 2 é™³ä¿¡ä½‘,4A 3 é™³é–æ¬£,4A 4 é„­å¤šå®,4A 5 å¼µç¶½ç¥,4A 6 æœ±æ²›ç¿¹,4A 7 æ–¹æ¢“æ™´,4A 8 åº·æŸç†™,4A 9 è¨±ç®ç­ ,4A 10 è¨±ç´«æ¡,4A 11 æ´ªé®å ¯,4A 12 ç°¡å¸Œè€Œ,4A 13 æ—æ³³æ¡,4A 14 ææ·½ç¥,4A 15 æå»·ç†™,4A 16 æ¢å®¶æµ ,4A 17 é™¸æ€æ…§,4A 18 æ¢æ¾¤ç›,4A 19 éº¥æ¢“ç³,4A 20 å³å­ç¿,4A 21 æŸ¯æºè²½,4A 22 æ½˜å¥•åŒ¡,4A 23 æ½˜å¥•éœ–,4A 24 æ¹¯æ¢“å³°,4A 25 é»ƒçŸ¥æ©,4A 26 é»ƒæµšéŠ˜,4A 27 å³å©§è¨€,4A 28 å³å©§ç…Š,4A 29 å³æ€åš,4A 30 ä½™å­è³¢,4A 31 è¢æµšç†™,4B 1 é™³å¥•å»·,4B 2 é„­æœ—è»’,4B 3 å¼µæ¸¼å²,4B 4 å¼µå­æµ©,4B 5 è³€è‡´å ¯,4B 6 ä½•æ—»è’‘,4B 7 è¨±çš“æ³“,4B 8 æ—å¥•ä»²,4B 9 æ—ç¥ç‘©,4B 10 åŠ‰æ˜ æ±,4B 11 ç¾…ç‘‹éœ–,4B 12 æç‘‹æ¾„,4B 13 æ¢æ™¯ç†¹,4B 14 æ¢è© æ¬£,4B 15 æ¢æ¼ªæ¡“,4B 16 ææ¨‚æ‡¿,4B 17 æ¢æ©æµ ,4B 18 ç¾…é§æ™´,4B 19 å‘‚æ¸…å¦,4B 20 é¦¬æ˜Šç‡Š,4B 21 æ¹¯é®éŠ˜,4B 22 ç”°æ™æ¨‚,4B 23 å”å˜‰ç¦§,4B 24 å°¹æ¨‚æ©,4B 25 ç‹æ¢“çª,4B 26 ç‹ç†™é›¯,4B 27 ç‹æ±¶åƒ–,4B 28 å³å­æœ—,4B 29 é‚±å®¶æ¨‚,4B 30 é‚±å½¥ç«£,4B 31 æ¥Šå­æ¸˜,4C 1 é™³è¦‹ä¹‹,4C 2 é™³æ¨‚ç†™,4C 3 éŒ¢å·§éœ–,4C 4 è”¡æ¸…å¦,4C 5 è”¡ç„Œè»’,4C 6 å‘¨å½¥å½¤,4C 7 é—œå®—ç,4C 8 å¥šæ¢“éºŸ,4C 9 é„§è«¾æ–‡,4C 10 éƒ­ä¿å½¤,4C 11 è³´è‡³èª ,4C 12 é»ç¥‰æ¨‚,4C 13 æ—åœ‹è¨€,4C 14 ææ˜•ç†¹,4C 15 æ¢æ™å¦,4C 16 æ¢å®‡éœ†,4C 17 å³å“è¨€,4C 18 å³æ²›çŠ,4C 19 è­šå®‰å–¬,4C 20 æ›¾å®‡å“²,4C 21 é»ƒå¯¶è¬™,4C 22 æ¥Šå¿ƒå¦¤,4C 23 æ¥Šç©èŠ¯,4C 24 æ¥Šç¥å®‰,4D 1 é™³ä¿Šå‡±,4D 2 é™³å½¥å½¤,4D 3 é„­ä¸è¶…,4D 4 é„­ç©æ†,4D 5 å¼µæ¦†æ¾„,4D 6 æœ±ä¿Šæœ—,4D 7 æ´ªåŠ›è”­,4D 8 æ—æ³³å½¤,4D 9 åŠ‰èŠ·ç‘¤,4D 10 ææ´‹æ„·,4D 11 æ¢èŠ·æ‚ ,4D 12 è˜‡ä¿Šçš“,4D 13 æ–½æ˜é›…,4D 14 æˆ´ç„¯è«¾,4D 15 è­šæ¥šæ¡,4D 16 æ¹¯è© è³¢,4D 17 æ›¹å­ç¥,4D 18 é»ƒç¸èˆœ,4D 19 é»ƒå¤©åµ,4D 20 é»ƒé€¸ç¿¹,4D 21 æ¥Šæ™Ÿè»’,4D 22 æ¥Šæ™¯åŒ¡,4D 23 é‚¢ç¶­ä¸,4D 24 ç¿å¥•ç³,4E 1 å€ç«£ç,4E 2 é™³å‡±ç®,4E 3 é™³è©©ç©,4E 4 é™³å½¥å¸Œ,4E 5 é„’å®¶è¬™,4E 6 é„­å­è«¾,4E 7 å¼µæµšæ­,4E 8 ä½•æ•å˜‰,4E 9 ç¾…å“è¬™,4E 10 ç›§ä½³çª,4E 11 ä¼å‰åº­,4E 12 æŸ¯éˆè«¾,4E 13 æ½˜è‹±è²´,4E 14 è˜‡å‡±æ½¼,4E 15 è¬å¿ƒå¼¦,4E 16 é»ƒå˜‰æ¬£,4E 17 é»ƒæŸé™¶,4E 18 é»ƒæ¢“æ™´,4E 19 é»ƒå­èª ,4E 20 å³æ€æ©‹,5A 1 é™³é ŒéŒ¡,5A 2 é™³æ·æš,5A 3 é™³æ»¶éŠ˜,5A 4 é™³æ€ç¾½,5A 5 é„­å©¥å¦¤,5A 6 è¶™æ©å½¤,5A 7 æ›¹å­éŒ€,5A 8 è”¡å­ç‘©,5A 9 ä½•æ€é½Š,5A 10 éƒ­éœç‘©,5A 11 éƒ­å¹¸å…’,5A 12 éƒ­å›ç¿,5A 13 æ—è¿ªæ–‡,5A 14 æ¢å“ç„¶,5A 15 æé¡¯æš,5A 16 ææ˜Ÿæ…§,5A 17 ç¾…æ³³é›…,5A 18 ç›§å¦å­œ,5A 19 å‘‚æ´›æ’,5A 20 é¦¬æ›‰æ™´,5A 21 é¦¬æ¢“å´´,5A 22 æ­æ©è²,5A 23 é‚±èŠŠç¾½,5A 24 è­šçŸ¥è¡Œ,5A 25 é„§å¸é‰‰,5A 26 æ›¾é–åµ,5A 27 æ›¾æŸè»’,5A 28 å³é‡‘éºŸ,5A 29 èƒ¡å®šé§±,5A 30 æ¥Šç¥ç‘©,5A 31 ç¿æµšçš“,5A 32 å¼µéŠ˜æ›‰,5B 1 é™³å­æ‚ ,5B 2 å‘¨é›‹å¸Œ,5B 3 é„­å„²é‚¦,5B 4 èŠæµ ç‘©,5B 5 å¤å­å¼˜,5B 6 è³€å­å®¸,5B 7 è¨±å³»ç,5B 8 æ—æµ©è»’,5B 9 æ—å˜‰æ•,5B 10 æå“çˆ,5B 11 æä¿Šé€¸,5B 12 ææœ—é”,5B 13 æå®‡è¬™,5B 14 æåŠ æ•,5B 15 æå…æ·,5B 16 å»–å¹¸å…’,5B 17 åŠ‰å¯å…’,5B 18 å³æœ—ç‘œ,5B 19 ä¼æ…§çŠ,5B 20 å²‘å¯ç¿¹,5B 21 å­«éŠ˜æµ ,5B 22 è­šæ£¨ç‡Š,5B 23 è­šæ‡‰è»’,5B 24 æ›¾æ…¶æ´›,5B 25 é»ƒå“å¦¤,5B 26 é»ƒæ‰¿æ™,5B 27 é»ƒæ¢“æ¬£,5B 28 é»ƒè© å¿ƒ,5B 29 è¢å´‡æ›¦,5B 30 å‘¨æ¢“ç‘œ,5C 1 é™³ç†¹å§¸,5C 2 é™³ç‘‹ç,5C 3 é™³æ˜±éœ–,5C 4 é„­å“²,5C 5 å¼µå˜‰å¦¤,5C 6 é„’å“å–¬,5C 7 é„ºå¯å–¬,5C 8 é»å‡±ç”„,5C 9 é»å­é—,5C 10 æ—æ€å½¤,5C 11 åŠ‰ä½©ç¥º,5C 12 åŠ‰èŠ·è±,5C 13 ææ€ç‘¤,5C 14 ç›§é´»å®‡,5C 15 ç›§æ€ç¾½,5C 16 æ›¾ç€šè³¢,5C 17 å¾ç¾¨å–¬,5C 18 é»ƒç¸å ¯,5C 19 é»ƒèŠ¯è«¾,5C 20 é»ƒç¶­åš,5C 21 é»ƒé›¨æ¡,5C 22 èƒ¡å•“æ¹¸,5C 23 èƒ¡å€©ç‘‹,5C 24 æ¥Šèˆœä¹‹,5D 1 é™³å‡±æ©,5D 2 é™³ç«‹å–¬,5D 3 é™³æ•è»’,5D 4 é™³èŒ‚å‡±,5D 5 é„­å¥•é£›,5D 6 éŒ¢å‡±æ™´,5D 7 è”¡ä¿Šæ·»,5D 8 å‘¨é’é™½,5D 9 å‘¨ç‘è•,5D 10 é¾ç¦®è¬™,5D 11 æˆ´å˜‰ç¦§,5D 12 ä½•é–å–¬,5D 13 ä½•èŠ·æº,5D 14 éƒ­è‡¨,5D 15 æ—å®¶è€Œ,5D 16 æ—å¥éŠ˜,5D 17 æå“ç©,5D 18 æå‡±å®‡,5D 19 é¦¬ç¶½å¬£,5D 20 é¦¬çå‚‘,5D 21 é¦¬æ©æ‚¦,5D 22 è«æ¢“å¦¤,5D 23 å³èŠ·ç›ˆ,5D 24 ä¼æ€å¦,5D 25 è‘‰æ€æœ—,5D 26 æ¥Šè‹¥è±,5E 1 é™³é§¿è±ª,5E 2 é™³èŠæ•,5E 3 å¼µæ€¡ç¦,5E 4 å¼µæ€¡è±,5E 5 è”¡å“ç¿¹,5E 6 æ–¹æ ¢å®‡,5E 7 ç¬¦ç¢©è»’,5E 8 ä½•å®¶ç‘©,5E 9 é»ƒå¥å½¬,5E 10 è¨±æ‚…,5E 11 æ—æ€è¾°,5E 12 æ—ç¦¹è»’,5E 13 ç¾…å©‰ç‘©,5E 14 æç¿Šè¡Œ,5E 15 æ¢å¿ƒç›ˆ,5E 16 æå§µè³¢,5E 17 éº¥ä¿Šä»,5E 18 è­šæš˜éœ–,5E 19 é»ƒæ™‰ç†¹,5E 20 ç‹æ™§æ©,5E 21 é‚±ç‚«æ™º,5E 22 æ¥Šæµ©ç¨‹,6A 1 é™³æ³“ä¿Š,6A 2 é™³æ€æˆ,6A 3 å¼µç¶½è»’,6A 4 å¼µç­±æ”¸,6A 5 ç¨‹é Œå…’,6A 6 å‘¨èŠ·è±,6A 7 å‘¨å­ç¥,6A 8 é¦®æ™ºè­½,6A 9 è¨±æ¨‚åª›,6A 10 è¨±å¿ƒæ·‡,6A 11 æ´ªå·§æ©,6A 12 é¾”å‡æ›ˆ,6A 13 é»é˜æ¾¤,6A 14 è³´å®¶æ•,6A 15 é»å­èŠŠ,6A 16 é»å­è±,6A 17 åŠ‰å¤©æºµ,6A 18 æ¢æ™¨,6A 19 æ¢è© åµ,6A 20 æä¿Šç¦§,6A 21 ææ¨‚æ€¡,6A 22 æ—ç…‡çš“,6A 23 å»–æœ›å“²,6A 24 å³æ‰¿ç†¹,6A 25 æ½˜èŒµå½¤,6A 26 è•­æ¢“è«¾,6A 27 è•­ä»²è¨€,6A 28 æ–½ç€›éˆ,6A 29 é„§æ—¨å³»,6A 30 é»ƒå“æ–‡,6A 31 é»ƒè‹¡å–¬,6A 32 å³å­å›,6A 33 é„­åŠ›ä¸­,6B 1 å€æ°¸æš,6B 2 é™³å®ç‘‹,6B 3 å¼µæµšä¸€,6B 4 å¼µé§¿æœ—,6B 5 å¼µå‡±æ™´,6B 6 å¼µå‡±å–¬,6B 7 å¼µæ¢“æ·³,6B 8 å¼µèŠ·ç†’,6B 9 è”¡å“ä¾–,6B 10 é¾å¸Œå…’,6B 11 æ–¹å¿ƒé ¤,6B 12 ä½•æ²›é™,6B 13 è‘‰æ™¯è»’,6B 14 éƒ­åƒç¬,6B 15 éƒ­å€šå½¤,6B 16 æ—æ¨‚æ©,6B 17 åŠ‰åº·ä½‘,6B 18 ææ›‰ç³,6B 19 æç€šæ³“,6B 20 æ—å¥•æ¾,6B 21 ç¾…ç¸åµ,6B 22 é¾æ´›èœ‚,6B 23 æ›¾æ¢“å‚‘,6B 24 è”¡æ°¸åŒ¡,6B 25 å°¹ä½Ÿæ©,6B 26 é»ƒå¸Œç³,6B 27 é»ƒå¯é ¤,6B 28 é»ƒè´Šè‡£,6B 29 é»ƒå‰ç¿,6B 30 å³ç’Ÿæ‚ ,6C 1 é™³é§å»·,6C 2 é™³æ¬£å½¤,6C 3 å‘¨å•Ÿè±ª,6C 4 é„­å‡±æ²‚,6C 5 å¼µæ¢“çƒ½,6C 6 è¶™æ¢“å¸Œ,6C 7 è¶™æ…§å–¬,6C 8 è¨±é¡˜,6C 9 æ—æ±¶é€²,6C 10 ç¾…å˜‰æ‚ ,6C 11 ææ™ºåº­,6C 12 æ¢é›²å§¿,6C 13 æèŠŠæ…§,6C 14 ç¾…æ›¦å©·,6C 15 ä¼å›æ˜Š,6C 16 é„§éˆæœ—,6C 17 é»ƒé§¿ä½‘,6C 18 é»ƒæ€æ¾„,6C 19 å³æ”¿é‹­,6C 20 è¢å‡±éœ–,6C 21 ç¿å¥•ç†™,6D 1 é™³èŠ·ç‘œ,6D 2 å¼µæµ©æš,6D 3 å¼µæ™¨æ›¦,6D 4 å¼µæ˜ æ¾„,6D 5 é„’æœ¬é¨«,6D 6 é¾å³»ç†™,6D 7 æŸ¯ç¹¼ç„¶,6D 8 æ±Ÿä¿Šæ›¦,6D 9 éƒ­ç”¯,6D 10 æ—æ˜±ä¸,6D 11 ææ¹šé ¤,6D 12 æ¢æ–‡æ™,6D 13 ææ‚…æ›¦,6D 14 å‘‚æŸè»’,6D 15 æ²™å©‰å¦‚,6D 16 è­šç´«æ‚¦,6D 17 é„§å®‡æ”¿,6D 18 ä¸å¥æ‚ ,6D 19 è‘£ç©å¤©,6D 20 é»ƒå¥æœ—,6D 21 èƒ¡æµšé´»,6E 1 é™³å€šç›ˆ,6E 2 é™³å®‡è»’,6E 3 é„­ç‘è±,6E 4 å¼µæ™ç‘œ,6E 5 å¼µæ¢“å¸Œ,6E 6 æ—æ›‰å©·,6E 7 æ—æ¢“æ…§,6E 8 ææ‰¿ç¦§,6E 9 æå®¶èˆˆ,6E 10 æ—æ–°æ°,6E 11 é›·æ¢“å¸Œ,6E 12 å³ç¶½é§,6E 13 ç‹é³³è³¢,6E 14 ç‹åœ‹å—,6E 15 é»ƒè‡´è‚‡,6E 16 é»ƒé®ç†™,6E 17 é»ƒæŒ¯åº­,6E 18 æ¥Šå¸Œæ˜•,6E 19 è‘‰å­é€¸`;
        
        // è§£æå­¸ç”Ÿè³‡æ–™
        const students = studentRawData.split(',').map(s => {
            const parts = s.trim().split(/\s+/);
            if(parts.length >= 3) {
                return { cls: parts[0], id: parts[1], name: parts.slice(2).join(' ') };
            }
            return null;
        }).filter(s => s !== null);

        // é¡Œç›®åˆ†ç´š (level: 'easy' | 'medium' | 'hard')
        const quizData = [
            { level: 'easy', q: "ä»€éº¼æ˜¯äººå·¥æ™ºèƒ½ï¼ˆAIï¼‰ï¼Ÿ", a: "C", options: { A: "ä½åœ¨é›»è…¦è£¡çš„å°ç²¾éˆ", B: "æ°¸é ä¸æœƒå£æ‰çš„æ©Ÿå™¨äºº", C: "ç”±äººé¡è£½é€ ï¼Œèƒ½åƒäººä¸€æ¨£æ€è€ƒå’Œå­¸ç¿’çš„æ©Ÿå™¨", D: "ä¸€ç¨®ä¸éœ€è¦æ’é›»å°±èƒ½å‹•çš„ç©å…·" }},
            { level: 'medium', q: "å¦‚æœæƒ³è®“ AI å­¸æœƒèªå‡ºã€Œè²“å’ªã€ï¼Œæˆ‘å€‘æ‡‰è©²æ€éº¼åšï¼Ÿ", a: "D", options: { A: "è®€æ•…äº‹æ›¸çµ¦å®ƒè½", B: "å¸¶å®ƒå»å…¬åœ’æ•£æ­¥", C: "çµ¦å®ƒåƒè²“é¤…ä¹¾", D: "çµ¦å®ƒçœ‹æˆåƒä¸Šè¬å¼µè²“çš„ç…§ç‰‡ï¼ˆå¤§æ•¸æ“šï¼‰" }},
            { level: 'medium', q: "AI æ¨¡ä»¿äººé¡æ™‚ï¼Œå…·å‚™å“ªäº›è°æ˜çš„éç¨‹ï¼Ÿ", a: "A", options: { A: "æ¨ç†ã€è‡ªæˆ‘å­¸ç¿’å’Œç§»å‹•", B: "ç¡è¦ºã€åƒé£¯ã€ç©éŠæˆ²", C: "å”±æ­Œã€è·³èˆã€æ‰“çƒ", D: "å‘¼å¸ã€æµæ±—ã€é•·é«˜" }},
            { level: 'medium', q: "æ‰‹æ©Ÿè£¡çš„èªéŸ³åŠ©ç†èƒ½è½æ‡‚æˆ‘å€‘èªªçš„è©±ï¼Œæ˜¯åˆ©ç”¨äº†ä»€éº¼æŠ€è¡“ï¼Ÿ", a: "B", options: { A: "é­”æ³•æ„Ÿæ‡‰", B: "è‡ªç„¶èªè¨€è™•ç†ï¼ˆNLPï¼‰", C: "è®€å¿ƒè¡“", D: "è²éŸ³æ”¾å¤§å™¨" }},
            { level: 'medium', q: "åœ¨çœ‹å½±ç‰‡æ™‚ï¼Œè§€å¯Ÿå“ªä¸€å€‹éƒ¨ä½æœ€å®¹æ˜“ç™¼ç¾ AI å‡å½±ç‰‡çš„ç ´ç¶»ï¼Ÿ", a: "C", options: { A: "è¡£æœçš„é¡è‰²", B: "é‹å¸¶æœ‰æ²’æœ‰ç¶å¥½", C: "æ‰‹æŒ‡çš„æ•¸é‡æˆ–å¥‡æ€ªçš„å§¿å‹¢", D: "é ­é«®çš„é•·åº¦" }},
            { level: 'hard', q: "AI ç”Ÿæˆçš„äººç‰©ã€Œçœ¼ç›ã€ï¼Œé€šå¸¸çœ‹èµ·ä¾†æœƒæ€æ¨£ï¼Ÿ", a: "D", options: { A: "åƒæ˜Ÿæ˜Ÿä¸€æ¨£é–ƒäº®", B: "è·ŸçœŸäººä¸€æ¨¡ä¸€æ¨£ï¼Œå®Œå…¨åˆ†ä¸å‡ºä¾†", C: "çœ¼ç›æœƒç™¼å‡ºç´…è‰²çš„å…‰", D: "çœ¼ç¥ç©ºæ´ï¼Œæˆ–åå…‰é»çš„ä½ç½®å¾ˆå¥‡æ€ª" }},
            { level: 'hard', q: "AI ç”Ÿæˆçš„äººç‰©ã€Œçš®è†šã€ï¼Œå¸¸å¸¸æœƒè®“äººè¦ºå¾—ä¸è‡ªç„¶ï¼ŒåŸå› æ˜¯ï¼Ÿ", a: "A", options: { A: "éæ–¼å¹³æ»‘ï¼Œå¥½åƒæ²’æœ‰æ¯›å­”ä¸€æ¨£", B: "çš®è†šä¸Šé¢æœ‰å¤ªå¤šå‚·ç—•", C: "çš®è†šæœƒåƒè®Šè‰²é¾ä¸€æ¨£è®Šè‰²", D: "çš®è†šå¤ªé»‘äº†" }},
            { level: 'medium', q: "å½±ç‰‡è£¡çš„äººèªªè©±æ™‚ï¼Œå¦‚æœå˜´å‹è·Ÿè²éŸ³å°ä¸ä¸Šï¼Œä»£è¡¨ä»€éº¼ï¼Ÿ", a: "B", options: { A: "å–‡å­å£æ‰äº†", B: "é€™å¯èƒ½æ˜¯ä¸€æ®µ AI å½é€ çš„å½±ç‰‡ï¼ˆå½±éŸ³ä¸åŒæ­¥ï¼‰", C: "é€™å€‹äººæ„Ÿå†’äº†ï¼Œè²éŸ³è®Šäº†", D: "å½±ç‰‡æ’­æ”¾é€Ÿåº¦å¤ªæ…¢" }},
            { level: 'hard', q: "å¦‚æœçœ‹åˆ°å½±ç‰‡è£¡çš„ã€Œå½±å­ã€è·Ÿå¤ªé™½çš„æ–¹å‘ä¸ä¸€æ¨£ï¼Œé€™èªªæ˜äº†ï¼Ÿ", a: "C", options: { A: "å¤ªé™½åœ¨ç§»å‹•", B: "å½±å­åœ¨æ‰è¿·è—", C: "é€™æ®µå½±ç‰‡é•åäº†ç‰©ç†è¦å¾‹ï¼Œå¯èƒ½æ˜¯ AI åšçš„", D: "å½±ç‰‡æ‹å¾—å¤ªç¾äº†" }},
            { level: 'hard', q: "è§€å¯Ÿ AI å½±ç‰‡çš„ã€ŒèƒŒæ™¯ã€ï¼Œå¦‚æœç™¼ç¾æ–‡å­—è®Šå¾—æ¨¡ç³Šæˆ–æ­ªæ–œï¼Œèªªæ˜ï¼Ÿ", a: "D", options: { A: "æ”å½±æ©Ÿæ²’å°ç„¦", B: "èƒŒæ™¯æ˜¯æ•…æ„è¨­è¨ˆçš„", C: "èƒŒæ™¯æœ‰å¾ˆå¤šè·¯äºº", D: "é€™æ˜¯ AI ç”ŸæˆèƒŒæ™¯æ™‚å¸¸å‡ºç¾çš„å›°é›£é»" }},
            { level: 'easy', q: "ä»€éº¼æ¨™è¨˜æœ€å®¹æ˜“è®“æˆ‘å€‘ä¸€çœ¼çœ‹å‡ºé€™æ˜¯ä¸æ˜¯ AI ç”Ÿæˆçš„å…§å®¹ï¼Ÿ", a: "A", options: { A: "æ•¸ä½æµ®æ°´å° (Digital Watermark)", B: "å½±ç‰‡çš„æª”æ¡ˆå¤§å°", C: "è¢å¹•çš„äº®åº¦", D: "å½±ç‰‡çš„ç¸½é•·åº¦" }},
            { level: 'easy', q: "å¦‚æœä¸€å€‹å¸³è™Ÿåœ¨ã€Œå¾ˆçŸ­æ™‚é–“å…§ã€ä¸Šå‚³è¶…å¤šé•·å¾—éå¸¸åƒçš„å½±ç‰‡ï¼Œæˆ‘å€‘è©²ï¼Ÿ", a: "B", options: { A: "è¶•å¿«é»è®š", B: "ä¿æŒè­¦æƒ•ï¼Œé€™å¯èƒ½æ˜¯ AI ç”¢å‡ºçš„å…§å®¹", C: "è½‰ç™¼çµ¦æ‰€æœ‰åŒå­¸", D: "ç•™è¨€èª‡çå®ƒå¾ˆå‹¤å‹" }},
            { level: 'hard', q: "æŠŠä¸€å€‹äººçš„ã€Œè¡¨æƒ…ã€æ›åˆ°å¦ä¸€å€‹äººçš„è‡‰ä¸Šï¼Œæ˜¯åˆ©ç”¨å“ªç¨®æŠ€è¡“ï¼Ÿ", a: "C", options: { A: "å½±å°æ©ŸæŠ€è¡“", B: "è‡ªå‹•ç·¨ç¢¼å™¨ï¼ˆAutoencoderï¼‰", C: "3D åˆ—å°æŠ€è¡“", D: "å¿«é€Ÿç´ æ" }},
            { level: 'hard', q: "ã€Œç”Ÿæˆå°æŠ—ç¶²çµ¡ï¼ˆGANï¼‰ã€ç‚ºä»€éº¼èƒ½è®“å‡å½±ç‰‡è®Šå¾—å¾ˆé€¼çœŸï¼Ÿ", a: "D", options: { A: "å› ç‚ºå®ƒæœƒè‡ªå‹•é—œæ©Ÿ", B: "å› ç‚ºå®ƒæœƒåˆªé™¤èƒŒæ™¯", C: "å› ç‚ºå®ƒæœƒè‡ªå‹•èª¿è‰²", D: "å› ç‚ºæœ‰å…©çµ„ AI äº’ç›¸ã€Œç«¶çˆ­ã€ä¾†æå‡æ•ˆæœ" }},
            { level: 'easy', q: "å£äººåˆ©ç”¨ AI è£½ä½œã€Œæ·±å½ï¼ˆDeepfakeï¼‰ã€å½±ç‰‡ï¼Œæœ€ä¸»è¦çš„å±å®³æ˜¯ï¼Ÿ", a: "A", options: { A: "æ•£æ’­å‡æ¶ˆæ¯æˆ–æ¬ºé¨™å¤§å®¶", B: "è®“ç¶²è·¯è®Šæ…¢", C: "è®“é›»è…¦ä¸­æ¯’", D: "è®“è¢å¹•è®Šé»‘" }},
            { level: 'easy', q: "çœ‹åˆ°ä¾†æºä¸æ˜çš„ AI å‡å½±ç‰‡ï¼Œæˆ‘å€‘ä¸æ‡‰è©²åšä»€éº¼ï¼Ÿ", a: "B", options: { A: "å‘Šè¨´çˆ¸çˆ¸åª½åª½", B: "éš¨ä¾¿é»è®šæˆ–è½‰ç™¼åˆ†äº«", C: "ä»”ç´°è§€å¯Ÿç ´ç¶»", D: "é—œæ‰å½±ç‰‡" }},
            { level: 'medium', q: "Deepfake æŠ€è¡“é™¤äº†åšå‡å½±ç‰‡ï¼Œåœ¨å“ªäº›è¡Œæ¥­æ‡‰ç”¨å¾ˆæ™®éï¼Ÿ", a: "C", options: { A: "ç¨®ç”°å’Œé‡£é­š", B: "ç…®é£¯å’Œæ´—ç¢—", C: "é›»å½±å’Œå‰µæ„ç”¢æ¥­", D: "è“‹æˆ¿å­å’Œä¿®è·¯" }},
            { level: 'easy', q: "åœ¨é¤å»³ä½¿ç”¨é€é¤æ©Ÿå™¨äººï¼Œå°è€é—†æœ‰ä»€éº¼å¥½è™•ï¼Ÿ", a: "D", options: { A: "é£Ÿç‰©æœƒè®Šå¥½åƒ", B: "æ©Ÿå™¨äººæœƒè·³èˆ", C: "æ©Ÿå™¨äººä¸ç”¨å……é›»", D: "æ¸›å°‘äººåŠ›æˆæœ¬ï¼Œé€é¤æ›´å¿«" }},
            { level: 'easy', q: "AI æ‡‰ç”¨åœ¨ã€Œå»£å‘Šå·¥ä½œã€ä¸Šï¼Œä¸»è¦çš„å„ªé»æ˜¯ä»€éº¼ï¼Ÿ", a: "A", options: { A: "æå‡å·¥ä½œæ•ˆç‡ï¼Œç™¼æ˜æ›´å¤šå¯èƒ½æ€§", B: "è®“å»£å‘Šè®Šå¾—å¾ˆé›£çœ‹", C: "è®“ç´™å¼µè®Šå¤š", D: "è®“å‰µæ„æ¶ˆå¤±" }},
            { level: 'medium', q: "å“ªç¨®èƒ½åŠ›æ˜¯äººé¡æœ€å¼·ã€AI æš«æ™‚å­¸ä¸æœƒçš„ï¼Ÿ", a: "B", options: { A: "ç®—è¶…é›£çš„æ•¸å­¸é¡Œ", B: "å‰µæ„æ€ç¶­ã€åŒç†å¿ƒèˆ‡æºé€šç†è§£", C: "24 å°æ™‚ä¸ç¡è¦ºå·¥ä½œ", D: "è¨˜ä½å¹¾ç™¾è¬æœ¬æ›¸çš„å…§å®¹" }},
            { level: 'medium', q: "ç‚ºä»€éº¼èªªäººé¡ã€Œä¸æœƒã€è¢« AI å®Œå…¨å–ä»£ï¼Ÿ", a: "C", options: { A: "å› ç‚ºæ©Ÿå™¨äººå¾ˆè²´", B: "å› ç‚ºæ©Ÿå™¨äººä¸æœƒèµ°è·¯", C: "å› ç‚º AI éœ€è¦äººé¡æŠ•å…¥æ•¸æ“šæ‰èƒ½å­¸ç¿’", D: "å› ç‚ºäººé¡æ¯” AI æ›´æœ‰åŠ›æ°£" }},
            { level: 'easy', q: "é¢å° AI æ™‚ä»£ï¼Œæˆ‘å€‘å°æœ‹å‹æ‡‰è©²æŠ±æŒä»€éº¼æ…‹åº¦ï¼Ÿ", a: "D", options: { A: "è¨å­æ‰€æœ‰ç§‘æŠ€", B: "åœæ­¢å­¸ç¿’æ–°äº‹ç‰©", C: "æ¯å¤©ç©æ‰‹æ©Ÿ", D: "å¥½å¥½è£å‚™è‡ªå·±ï¼Œå­¸ç¿’è·Ÿ AI åˆä½œ" }},
            { level: 'hard', q: "AI æ˜¯æ€éº¼å‰µä½œè€…æ¼‚äº®çš„ç•«æˆ–éŸ³æ¨‚çš„ï¼Ÿ", a: "A", options: { A: "åˆ†æå¤§é‡è³‡æ–™å¾Œï¼Œæ ¹æ“šè³‡æ–™åº«å¿«é€Ÿå‰µä½œ", B: "AI è‡ªå·±æœƒåšå¤¢æƒ³å‡ºä¾†çš„", C: "è§€å¯Ÿå¤§è‡ªç„¶å¯«ç”Ÿç•«å‡ºä¾†çš„", D: "éš¨æ©Ÿäº‚ç•«ç›´åˆ°å¥½çœ‹ç‚ºæ­¢" }},
            { level: 'hard', q: "ç‚ºä»€éº¼ AI ç•«çš„ç•«ï¼Œæœ‰æ™‚æœƒè®“æˆ‘å€‘è¦ºå¾—è·ŸæŸä½ç•«å®¶çš„é¢¨æ ¼å¾ˆåƒï¼Ÿ", a: "B", options: { A: "å› ç‚ºç•«å®¶æ•™å®ƒç•«ç•«", B: "å› ç‚ºå®ƒèåˆäº†å­¸ç¿’åˆ°çš„ä¸åŒé¢¨æ ¼èˆ‡å½±å­", C: "å› ç‚º AI æ˜¯ç•«å®¶çš„å­¸ç”Ÿ", D: "å› ç‚ºé‚£æ˜¯å·§åˆ" }},
            { level: 'easy', q: "æˆ‘å€‘æ‡‰è©²æŠŠ AI è¦–ç‚ºå¨è„…æˆ‘å€‘çš„æ•µäººå—ï¼Ÿ", a: "C", options: { A: "æ˜¯çš„ï¼Œå®ƒæœƒæ¶èµ°æ‰€æœ‰å·¥ä½œ", B: "ä¸æ˜¯ï¼Œå®ƒåªæ˜¯å€‹ç©å…·", C: "ä¸æ˜¯ï¼Œå®ƒæ˜¯å¹«æˆ‘å€‘ç™¼æ˜æ›´å¤šå¯èƒ½æ€§çš„å·¥å…·", D: "æ˜¯çš„ï¼Œå®ƒæœƒçµ±æ²»ä¸–ç•Œ" }},
            { level: 'medium', q: "å½±ç‰‡ä¸­çš„è²“å’ª IT MEOW ç™¼ç¾ AI å‰µä½œæœ‰ä»€éº¼å„ªé»ï¼Ÿ", a: "D", options: { A: "å¯ä»¥å¹«å®ƒæ‰è€é¼ ", B: "å¯ä»¥å¹«å®ƒè®Šè°æ˜", C: "å¯ä»¥å¹«å®ƒè®Šæ›´ç¾", D: "å¯ä»¥æ‰¹é‡è£½ä½œä¸åŒé¢¨æ ¼çš„ç«æŸ´äººç•«" }},
            { level: 'hard', q: "ç¤¾äº¤å¹³å°æ˜¯æ€éº¼çŸ¥é“æˆ‘å€‘å–œæ­¡ä»€éº¼å…§å®¹çš„ï¼Ÿ", a: "A", options: { A: "é€éæ¼”ç®—æ³•æ”¶é›†æˆ‘å€‘çš„ç€è¦½ç´€éŒ„èˆ‡è¶³å°", B: "é€éè®€å¿ƒè¡“", C: "é€éæ‰“é›»è©±çµ¦æˆ‘å€‘", D: "é€éæ´¾äººè·Ÿè¹¤æˆ‘å€‘" }},
            { level: 'hard', q: "äººé¢è­˜åˆ¥æŠ€è¡“å¦‚æœè¢«å£äººåˆ©ç”¨ï¼Œå¯èƒ½æœƒæœ‰ä»€éº¼é¢¨éšªï¼Ÿ", a: "B", options: { A: "è®“æ‰‹æ©Ÿæ²’é›»", B: "å¿«é€Ÿæ‰¾å‡ºäººçš„è¡Œè¹¤æˆ–é€²è¡Œèµ·åº•æ¬ºå‡Œ", C: "è®“ç…§ç‰‡è®Šæ¨¡ç³Š", D: "è®“ç¶²è·¯é€£ä¸ä¸Š" }},
            { level: 'medium', q: "å¦‚æœä½ ä¸æƒ³è®“é™Œç”Ÿäººçœ‹åˆ°ä½ åœ¨ç¶²ä¸Šç™¼çš„è²¼æ–‡ï¼Œæ‡‰è©²èª¿ä»€éº¼ï¼Ÿ", a: "C", options: { A: "è¢å¹•äº®åº¦", B: "è²éŸ³å¤§å°", C: "ç§éš±æ¬Šé™è¨­å®š", D: "ç¶²è·¯é€Ÿåº¦" }},
            { level: 'easy', q: "ä¿è­·å€‹äººéš±ç§æœ€é‡è¦çš„ä¸€ä»¶äº‹æ˜¯ä»€éº¼ï¼Ÿ", a: "D", options: { A: "æ¯å¤©æ›´æ›ç”¨æˆ¶åç¨±", B: "è·Ÿæ‰€æœ‰äººåˆ†äº«ä½ çš„åœ°å€", C: "æŠŠå¯†ç¢¼å¯«åœ¨ç­†è¨˜æœ¬ä¸Š", D: "æ¸›å°‘åœ¨ç¶²çµ¡æ”¾é‡è¦å€‹äººè³‡æ–™" }}
        ];

        const quizApp = {
            selectedQuestions: [],
            currentStep: 0,
            userAnswers: [],
            selectedOption: null,
            userInfo: { cls: '', name: '' },

            init: function() {
                const classSelect = document.getElementById('class-select');
                const classes = [...new Set(students.map(s => s.cls))].sort();
                classes.forEach(c => {
                    const opt = document.createElement('option');
                    opt.value = c;
                    opt.textContent = c;
                    classSelect.appendChild(opt);
                });
            },

            updateStudentList: function() {
                const cls = document.getElementById('class-select').value;
                const studentSelect = document.getElementById('student-select');
                studentSelect.innerHTML = '<option value="">è«‹é¸æ“‡å§“å</option>';
                
                if (cls) {
                    studentSelect.disabled = false;
                    studentSelect.classList.remove('bg-gray-50');
                    const filtered = students.filter(s => s.cls === cls);
                    filtered.forEach(s => {
                        const opt = document.createElement('option');
                        const displayName = `${s.id} ${s.name}`;
                        opt.value = displayName; 
                        opt.textContent = displayName;
                        studentSelect.appendChild(opt);
                    });
                } else {
                    studentSelect.disabled = true;
                    studentSelect.classList.add('bg-gray-50');
                }
                this.validateStart();
            },

            validateStart: function() {
                const cls = document.getElementById('class-select').value;
                const name = document.getElementById('student-select').value;
                const startBtn = document.getElementById('start-btn');
                
                if (cls && name) {
                    startBtn.disabled = false;
                    startBtn.classList.replace('bg-gray-400', 'bg-indigo-600');
                    startBtn.classList.remove('cursor-not-allowed');
                } else {
                    startBtn.disabled = true;
                    startBtn.classList.replace('bg-indigo-600', 'bg-gray-400');
                    startBtn.classList.add('cursor-not-allowed');
                }
            },

            start: function() {
                this.userInfo.cls = document.getElementById('class-select').value;
                this.userInfo.name = document.getElementById('student-select').value;
                
                // --- åˆ†å±¤æŠ½é¡Œé‚è¼¯ ---
                const shuffle = (arr) => arr.sort(() => 0.5 - Math.random());
                
                const easyQs = shuffle(quizData.filter(q => q.level === 'easy')).slice(0, 2);
                const mediumQs = shuffle(quizData.filter(q => q.level === 'medium')).slice(0, 3);
                const hardQs = shuffle(quizData.filter(q => q.level === 'hard')).slice(0, 2);
                
                // æ··åˆé€™ 7 é¡Œ
                this.selectedQuestions = shuffle([...easyQs, ...mediumQs, ...hardQs]);
                
                this.currentStep = 0;
                this.userAnswers = [];
                
                document.getElementById('start-screen').classList.add('hidden');
                document.getElementById('quiz-screen').classList.remove('hidden');
                document.getElementById('user-info-display').textContent = `${this.userInfo.cls} - ${this.userInfo.name}`;
                this.renderQuestion();
            },

            renderQuestion: function() {
                const q = this.selectedQuestions[this.currentStep];
                this.selectedOption = null;
                
                // æ›´æ–°é¡Œè™Ÿ (ç§»é™¤é›£åº¦æ¨™ç±¤é¡¯ç¤º)
                document.getElementById('current-index').textContent = this.currentStep + 1;
                
                // é€²åº¦æ¢ (å…± 7 é¡Œ)
                document.getElementById('progress-bar').style.width = ((this.currentStep + 1) / 7 * 100) + '%';
                document.getElementById('question-text').textContent = q.q;
                
                const optionsList = document.getElementById('options-list');
                optionsList.innerHTML = '';
                
                const nextBtn = document.getElementById('next-btn');
                nextBtn.disabled = true;
                nextBtn.classList.replace('bg-indigo-600', 'bg-gray-400');
                nextBtn.classList.add('cursor-not-allowed');

                Object.entries(q.options).forEach(([key, val]) => {
                    const btn = document.createElement('button');
                    btn.className = "option-btn w-full text-left p-5 rounded-xl font-medium text-gray-700 flex items-center bg-white text-lg";
                    btn.innerHTML = `<span class="w-8 h-8 flex items-center justify-center bg-indigo-50 rounded-lg mr-3 font-bold text-indigo-600 flex-shrink-0">${key}</span> ${val}`;
                    btn.onclick = () => this.handleSelect(key, btn);
                    optionsList.appendChild(btn);
                });
            },

            handleSelect: function(key, btn) {
                this.selectedOption = key;
                document.querySelectorAll('.option-btn').forEach(b => b.classList.remove('option-selected', 'border-indigo-600'));
                btn.classList.add('option-selected', 'border-indigo-600');
                
                const nextBtn = document.getElementById('next-btn');
                nextBtn.disabled = false;
                nextBtn.classList.replace('bg-gray-400', 'bg-indigo-600');
                nextBtn.classList.remove('cursor-not-allowed');
            },

            next: function() {
                this.userAnswers.push(this.selectedOption);
                this.currentStep++;
                if (this.currentStep < 7) this.renderQuestion();
                else this.showResults();
            },

            showResults: function() {
                document.getElementById('quiz-screen').classList.add('hidden');
                document.getElementById('result-screen').classList.remove('hidden');
                document.getElementById('report-user-name').textContent = `${this.userInfo.cls} ç­ ${this.userInfo.name}`;
                
                let correctCount = 0;
                
                // 1. ç”Ÿæˆç›´è§€å°éŒ¯ç¸½è¡¨
                const summaryContainer = document.getElementById('summary-table-container');
                let summaryHTML = `
                    <div class="bg-indigo-50 rounded-xl p-4 overflow-x-auto shadow-inner border border-indigo-100">
                        <table class="w-full text-center border-collapse min-w-[300px]">
                            <tr>
                                ${Array.from({length: 7}, (_, i) => `<td class="p-2 font-bold text-gray-500 border-b border-indigo-200">Q${i+1}</td>`).join('')}
                            </tr>
                            <tr>
                `;

                // 2. ç”Ÿæˆè©³ç´°å ±å‘Š
                const reportContainer = document.getElementById('report-details');
                reportContainer.innerHTML = '';

                this.selectedQuestions.forEach((q, idx) => {
                    const isCorrect = this.userAnswers[idx] === q.a;
                    if (isCorrect) correctCount++;
                    
                    // ç¸½è¡¨å…§å®¹
                    summaryHTML += `<td class="p-2 text-2xl">${isCorrect ? 'âœ…' : 'âŒ'}</td>`;

                    // è©³ç´°å ±å‘Šå…§å®¹ (å­—é«”æ”¾å¤§ï¼Œç§»é™¤é›£åº¦æ¨™ç±¤)
                    const item = document.createElement('div');
                    item.className = `p-6 border-l-8 rounded-r-xl shadow-sm bg-white ${isCorrect ? 'border-green-500' : 'border-red-500'}`;
                    item.innerHTML = `
                        <div class="flex justify-between items-start mb-3">
                            <p class="font-bold text-gray-800 text-xl leading-tight">é¡Œ ${idx + 1}: ${q.q}</p>
                        </div>
                        <p class="text-lg mt-1 text-gray-600">
                            ä½ çš„ç­”æ¡ˆ: <span class="${isCorrect ? 'text-green-600' : 'text-red-600'} font-bold">${this.userAnswers[idx]}. ${q.options[this.userAnswers[idx]]}</span>
                            ${!isCorrect ? `<br><span class="text-gray-500 mt-1 block">æ­£ç¢ºç­”æ¡ˆ: <span class="font-bold text-green-600">${q.a}. ${q.options[q.a]}</span></span>` : ''}
                        </p>
                    `;
                    reportContainer.appendChild(item);
                });
                
                summaryHTML += `</tr></table></div>`;
                summaryContainer.innerHTML = summaryHTML;

                // åˆ†æ•¸è¨ˆç®— (å…± 7 é¡Œ)
                const finalScore = Math.round((correctCount / 7) * 100);
                document.getElementById('score-text').textContent = finalScore;
                this.uploadData(finalScore);
            },

            uploadData: function(score) {
                const statusDiv = document.getElementById('save-status');
                if(!scriptURL) return;

                const payload = {
                    cls: this.userInfo.cls,
                    name: this.userInfo.name,
                    score: score
                };

                fetch(scriptURL, {
                    method: 'POST',
                    mode: 'no-cors',
                    cache: 'no-cache',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                }).then(() => {
                    statusDiv.innerHTML = `<span>âœ…</span> çµæœå·²æˆåŠŸåŒæ­¥è‡³ Google Sheet`;
                    statusDiv.className = "flex items-center justify-center gap-2 text-sm font-medium text-green-600 mb-6 bg-green-50 py-2 px-4 rounded-lg mx-auto max-w-sm";
                }).catch(err => {
                    statusDiv.innerHTML = `<span>âŒ</span> é›²ç«¯åŒæ­¥å¤±æ•—ï¼Œè«‹é€šçŸ¥è€å¸«ã€‚`;
                    statusDiv.className = "flex items-center justify-center gap-2 text-sm font-medium text-red-600 mb-6 bg-red-50 py-2 px-4 rounded-lg mx-auto max-w-sm";
                });
            }
        };

        window.onload = () => quizApp.init();
    </script>
</body>
</html>